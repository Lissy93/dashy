# Config file for pull-request-badge. See: https://pullrequestbadge.com/ by @stefanbuck
# Dynamically inserts status badges into PR description, based on certain conditions

# Show submitting user's username and profile link
- label: ðŸ’• Submitted by
  message: $payload.pull_request.user.login
  color: '#f73ae6'
  when: $payload.pull_request.author_association !== 'OWNER'
  url: 'https://github.com/$payload.pull_request.user.login'

# Show a badge indicating the PR category, based on tag
- label: Type
  message: âœ¨ Feature
  color: '#39b0fd'
  when: $labels.includes('âœ¨ New Feature')
- label: Type
  message: ðŸ› Fix
  color: '#39b0fd'
  when: $labels.includes('ðŸ¦‹ Bug Fix')
- label: Type
  message: ðŸ“• Docs
  color: '#39b0fd'
  when: $labels.includes('ðŸ“• Docs')
- label: Type
  message: ðŸ› ï¸ Build Changes
  color: '#39b0fd'
  when: $labels.includes('ðŸ› ï¸ Build Changes')
- label: Type
  message: ðŸ› ï¸ Build Changes
  color: '#39b0fd'
  when: $labels.includes('ðŸ› ï¸ Build Changes')
- label: Type
  message: ðŸšš Refactor
  color: '#39b0fd'
  when: $labels.includes('ðŸšš Refactor')
- label: Type
  message: ðŸ’„ Stylistic Changes
  color: '#39b0fd'
  when: $labels.includes('ðŸ’„ Stylistic Changes')
- label: Type
  message: ðŸŒŸ Showcase Addition
  color: '#39b0fd'
  when: $labels.includes('ðŸ’¯ Showcase')
- label: Type
  message: ðŸ—ï¸ Architecture
  color: '#39b0fd'
  when: $labels.includes('ðŸ—ï¸ Architectural Changes')
- label: Type
  message: ðŸ¤– Auto Submission
  color: '#39b0fd'
  when: $labels.includes('ðŸ¤– Auto')
- label: Type
  message: ðŸŒ Language Update
  color: '#39b0fd'
  when: $labels.includes('ðŸŒ Language')

# Add size label based on very large or tiny PRs
- label: PR Size
  message: Extra Large
  color: '#f9833e'
  when: '$additions > 1000'
- label: PR Size
  message: Large
  color: '#f4b546'
  when: '$additions > 500 && $additions < 1000'
- label: PR Size
  message: Medium
  color: '#f3ff59'
  when: '$additions > 10 && $additions < 500'
- label: PR Size
  message: Quick
  color: '#3eef8b'
  when: '$additions < 10'

# Show badge indicating PR status
- label: Status
  message: âœï¸ Draft
  when: $isDraft
  color: '#ffa933'
- label: Status
  message: ðŸ§± Work in Progress
  when: $payload.pull_request.title.includes('WIP')
  color: '#29e3f4'
- label: Status
  message: âœ… Ready
  color: '#3ef963'
  when: $labels.includes('ðŸ”€ Ready for Merge')

# Show PR number, to destination and from destination
- label: '#$prNumber'
  message: '$payload.pull_request.user.login /$payload.pull_request.head.ref â†’ $payload.repository.full_name'
  color: '#ab5afc'
  url: 'https://github.com/$slug/tree/$branchName'

# Show total code added minus deleted
- label: New Code
  message: 'Commits: $payload.pull_request.commits | Files Changed: $payload.pull_request.changed_files | Additions: $payload.pull_request.additions-$payload.pull_request.deletions'
  color: '#dddd00'
  
# Checks if the required sections are missing
- label: âš ï¸Missing
  message: Category
  color: '#f25265'
  when: $payload.pull_request.body.includes('Category') === false
- label: âš ï¸Missing
  message: Overview
  color: '#f25265'
  when: $payload.pull_request.body.includes('Overview') === false
- label: âš ï¸Missing
  message: Quality Checklist
  color: '#f25265'
  when: $payload.pull_request.body.includes('Code Quality Checklist') === false
- label: âš ï¸Description
  message: Incomplete
  color: '#f25265'
  when: $payload.pull_request.body.length < 25
- label: âš ï¸Missing
  message: Label
  color: '#f25265'
  when: $labels.length == 0

# Show note when task list has unfinished items
- label: âš ï¸Notice
  message: Unchecked Tasks
  when: $payload.pull_request.body.includes('- [ ] ')
  color: '#f25265'

# Show warning, when certain tags are applied
- label: Warning
  message: â›” Do Not Merge
  color: '#f25265'
  when: $labels.includes("â›” Don't Merge")
- label: Warning
  message: ðŸš« Merge Conflicts
  color: '#f25265'
  when: $labels.includes('ðŸš« Merge Conflicts')
- label: Warning
  message: ðŸ•¸ï¸ Inactive
  color: '#f25265'
  when: $labels.includes('ðŸ•¸ï¸ Inactive')
- label: Warning
  message: ðŸ’€ Spam
  color: '#f25265'
  when: $labels.includes('ðŸ’€ Spam')

